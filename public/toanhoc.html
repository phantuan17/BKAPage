<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<head>
    <title>Toán học</title>
    <script src=" https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js">
    </script>

</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0J2QCVCM21"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-0J2QCVCM21');
</script>
<link rel="stylesheet" href="styles/mathpage-styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,500;0,600;1,500&display=swap"
    rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@900&display=swap" rel="stylesheet">

<body>

    <div id="hook" class="imgContent"></div>
    <div id="submitForm1" style="width: 100%;aspect-ratio: 960/1076;background-color: #272660;padding-top: 7%;">
        <div class="submitForm">
            <div class="submitTitle">ĐĂNG KÝ NHẬN TƯ VẤN</div>
            <input type="text" id="fname" class="textField" placeholder="Họ tên học sinh">
            <input type="text" id="fname" class="textField" placeholder="Con đang học lớp mấy?">
            <input type="text" id="fname" class="textField" placeholder="Số điện thoại phụ huynh">

            <button class="submitButton"> ĐĂNG KÝ NGAY</button>
        </div>
    </div>
    <div id="lotrinh" class="imgContent" style="background-color: #F9F5EA;"></div>
    <div class="goToRes">
        <div class="goToResBtn" id="goToRes1Btn" style="width: 40%; aspect-ratio: 377/90;margin-top:-24.68% ;">
            Đăng ký ngay
        </div>
    </div>
    <div id="loiich" class="imgContent" style="background-color: #F9F5EA;"></div>
    <div class="goToRes">
        <div class="goToResBtn" id="goToRes2Btn" style="width: 40%; aspect-ratio: 377/90;margin-top:-15% ;">
            Đăng ký ngay
        </div>
    </div>
    <div id="teamIntro" class="imgContent" style="background-color: #F9F5EA;"></div>
    <div id="teachingMethod" class="imgContent" style="background-color: #F9F5EA;"></div>

    <div class="goToRes"
        style="margin-top:0% ; position: relative;background-color: #F9F5EA;padding-top:5.5% ;padding-bottom: 13%;">
        <div class="goToResBtn" id="goToRes3Btn" style="width: 40%; aspect-ratio: 377/90;">
            Đăng ký ngay
        </div>
    </div>
    </div>
    <div style="width: 100%;background-color:#F9F5EA ;aspect-ratio: 960/175;">
        <div class="detail-item">
            MỘT SỐ PHẢN HỒI PHỤ HUYNH
        </div>
    </div>
    <div style="width:100%;aspect-ratio: 960/1547;background-color:#F9F5EA ">
        <div class="slideshow-container">

            <div class="mySlides fade">
                <img src="./media/feedback/slide1.png" style="width:100%">
            </div>

            <div class="mySlides fade">
                <img src="./media/feedback/slide2.png" style="width:100%">
            </div>

            <div class="mySlides fade">
                <img src="./media/feedback/slide3.png" style="width:100%">
            </div>
        </div>
    </div>

    <div style="text-align:center;width: 100%;aspect-ratio: 960/80; background-color:#F9F5EA ;">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
    </div>

    <div style="width: 100%; aspect-ratio: 960/1486; background-color: #272660;"></div>
    <div id="submitForm2" style="margin-top: -52%;">
        <div class="submitForm">
            <div class="submitTitle">ĐĂNG KÝ NHẬN TƯ VẤN</div>
            <input type="text" id="fname" class="textField" placeholder="Họ tên học sinh">
            <input type="text" id="fname" class="textField" placeholder="Con đang học lớp mấy?">
            <input type="text" id="fname" class="textField" placeholder="Số điện thoại phụ huynh">

            <button class="submitButton"> ĐĂNG KÝ NGAY</button>
        </div>
    </div>
    <div id="registerCourse" class="imgContent" style="margin-top: -196%;"></div>
    <div style="background-color: #F9F5EA;width: 100%;aspect-ratio: 960/930;"></div>
    <div id="footer" class="imgContent"></div>

    <div id="alert" style="display: none;">
        <div id="sucessAl" style="display: none;">
            Đăng ký thành công!<br>
            BK Academy sẽ liên lạc Với anh chị trong thời gian sớm nhất!
            <div id="alBtn">
                Đóng
            </div>
        </div>
        <div id="loadingAl" style="display: none;">
            <div class="loader">
            </div>
        </div>
    </div>
</body>
<script>
    function submitStudent(name, grade, phone, testMath, testDev, src) {
        console.log(name);
        console.log(grade);
        console.log(phone);
        console.log(testMath);
        console.log(testDev);
        $("#alert").show();
        $("#loadingAl").show();

        var api = 'https://script.google.com/macros/s/AKfycbzjgavpwX-u-fxq8sjPhRM3-Riyoswfog9XZ1qQmOdKYE5Zea8SVx0OckgfmqwhknXikg/exec'

        api = api + '?name=' + name + '&grade=' + grade + '&phoneNo=' + phone + '&testMath=' + testMath + '&testDev=' + testDev + '&src=' + src;

        fetch(
            api, {
            redirect: "follow",
            method: "POST",
            headers: {
                "Content-Type": "text/plain;charset=utf-8",
            }
        }).then(res => {
            $("#loadingAl").hide();
            $("#sucessAl").show();

        });
    }

    $(".submitButton").on("click", function (event) {
        var form = event.currentTarget.parentElement;
        var collection = form.getElementsByClassName("textField");
        var name = collection[0].value;
        var grade = collection[1].value;
        var phone = collection[2].value;
        if (phone == '') {
            collection[2].style.border = '2px solid red';
            collection[2].setAttribute("placeholder", "Vui lòng nhập số điện thoại")
            collection[2].addEventListener("focusout", function () {
                if (this.value != '') {
                    this.style.border = 'none'
                }
            })
        }
        else {
            var src = window.location.href
            submitStudent(name, 'null', phone, false, true, src)
        }
    });

    $("#alBtn").on("click", function (event) {
        $("#alert").hide();
        $("#sucessAl").hide();
    })
    $("#goToRes3Btn").on("click", function (event) {
        $('html, body').animate({
            scrollTop: $("#submitForm2").offset().top
        }, 1000);
    })
    $("#goToRes2Btn").on("click", function (event) {
        $('html, body').animate({
            scrollTop: $("#submitForm2").offset().top
        }, 1000);
    })
    $("#goToRes1Btn").on("click", function (event) {
        $('html, body').animate({
            scrollTop: $("#submitForm1").offset().top
        }, 1000);
    })
</script>
<script>
    var slideIndex = 0;
    showSlides();

    function showSlides() {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {
            slideIndex = 1;
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
        setTimeout(showSlides, 5000);
    }
</script>

</html>